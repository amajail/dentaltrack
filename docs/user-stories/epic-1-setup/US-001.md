# US-001: Configurar monorepo con estructura Clean Architecture

## ğŸ“‹ User Story
**Como** desarrollador del equipo DentalTrack  
**Quiero** configurar un monorepo con estructura Clean Architecture  
**Para que** tener una base sÃ³lida y escalable para el desarrollo del MVP

## âœ… Criterios de AceptaciÃ³n

### ğŸ—ï¸ Estructura del Proyecto
- [x] Monorepo configurado con carpetas: backend/, frontend/, docs/
- [x] Backend con Clean Architecture: Api, Application, Domain, Infrastructure
- [x] Frontend con React + TypeScript + Vite configurado
- [x] Estructura de tests para cada capa
- [x] .gitignore completo para .NET y Node.js
- [x] README.md principal con instrucciones de setup

### ğŸ“¦ ConfiguraciÃ³n de Paquetes
- [x] Backend: .NET 8 con paquetes bÃ¡sicos (EF Core, MediatR, etc.)
- [x] Frontend: React 18+, TypeScript, Material-UI, React Query
- [x] Herramientas de desarrollo: ESLint, Prettier, Husky
- [x] Scripts de build y desarrollo configurados

### ğŸ”§ Herramientas de Desarrollo
- [x] Docker Compose para desarrollo local
- [x] Variables de entorno configuradas
- [x] ConfiguraciÃ³n de IDE (VS Code settings)
- [x] Git hooks para quality checks

## ğŸ› ï¸ Claude Code Prompt

```
Configurar monorepo DentalTrack con Clean Architecture para MVP web responsive:

ESTRUCTURA DEL PROYECTO:
```
dentaltrack/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ DentalTrack.Api/          # Presentation Layer
â”‚   â”‚   â”œâ”€â”€ DentalTrack.Application/  # Application Layer (MediatR, DTOs)
â”‚   â”‚   â”œâ”€â”€ DentalTrack.Domain/       # Domain Layer (Entities, Business Rules)
â”‚   â”‚   â””â”€â”€ DentalTrack.Infrastructure/ # Infrastructure (EF Core, External APIs)
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â”œâ”€â”€ DentalTrack.Api.Tests/
â”‚   â”‚   â”œâ”€â”€ DentalTrack.Application.Tests/
â”‚   â”‚   â”œâ”€â”€ DentalTrack.Domain.Tests/
â”‚   â”‚   â””â”€â”€ DentalTrack.Infrastructure.Tests/
â”‚   â””â”€â”€ DentalTrack.sln
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docs/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

BACKEND (.NET 8 CLEAN ARCHITECTURE):
1. Crear soluciÃ³n .NET 8 con proyectos:
   - DentalTrack.Api (ASP.NET Core Web API)
   - DentalTrack.Application (Class Library)
   - DentalTrack.Domain (Class Library)
   - DentalTrack.Infrastructure (Class Library)

2. Configurar referencias entre proyectos:
   - Api â†’ Application + Infrastructure
   - Application â†’ Domain
   - Infrastructure â†’ Domain + Application

3. Agregar paquetes NuGet esenciales:
   - Microsoft.EntityFrameworkCore.SqlServer
   - MediatR
   - AutoMapper
   - FluentValidation
   - Serilog.AspNetCore
   - Microsoft.AspNetCore.Authentication.JwtBearer
   - Google.Apis.Auth

4. Configurar estructura base:
   - Program.cs con dependency injection
   - appsettings.json con configuraciones
   - Carpetas: Controllers, Models, Services en Api
   - Carpetas: Commands, Queries, DTOs en Application
   - Carpetas: Entities, ValueObjects, Interfaces en Domain
   - Carpetas: Data, Services, Repositories en Infrastructure

FRONTEND (REACT + TYPESCRIPT):
1. Crear proyecto React con Vite:
   - Template TypeScript
   - ConfiguraciÃ³n ESLint + Prettier
   - ConfiguraciÃ³n Husky para pre-commit hooks

2. Instalar dependencias principales:
   - @mui/material @emotion/react @emotion/styled
   - @mui/icons-material
   - @tanstack/react-query
   - react-router-dom
   - axios
   - react-hook-form @hookform/resolvers
   - zod (validaciÃ³n)

3. Configurar estructura base:
   - src/components/ (componentes reutilizables)
   - src/pages/ (pÃ¡ginas principales)
   - src/hooks/ (custom hooks)
   - src/services/ (APIs y servicios)
   - src/types/ (TypeScript types)
   - src/utils/ (utilidades)
   - src/context/ (React contexts)

4. ConfiguraciÃ³n responsive design:
   - Material-UI theme configurado
   - Breakpoints: mobile (0-767px), tablet (768-1023px), desktop (1024px+)
   - ConfiguraciÃ³n base para responsive components

DOCKER Y DESARROLLO:
1. Crear docker-compose.yml con:
   - SQL Server para desarrollo
   - Redis para caching
   - Servicios para API y Frontend

2. Scripts de desarrollo:
   - npm run dev (frontend)
   - dotnet run (backend)
   - docker-compose up (base de datos)

CONFIGURACIÃ“N DE CALIDAD:
1. .gitignore completo:
   - Archivos .NET (bin/, obj/, etc.)
   - Archivos Node.js (node_modules/, dist/, etc.)
   - Archivos IDE y OS
   - Variables de entorno (.env)

2. EditorConfig para consistencia
3. Git hooks con Husky:
   - Pre-commit: lint, format, tests
   - Pre-push: build validation

DOCUMENTACIÃ“N:
1. README.md principal con:
   - DescripciÃ³n del proyecto
   - Requisitos de sistema
   - Instrucciones de setup
   - Comandos de desarrollo
   - Estructura del proyecto

2. README.md en backend/ y frontend/ con instrucciones especÃ­ficas

NOTAS IMPORTANTES:
- Enfoque en MVP web responsive Ãºnicamente
- No incluir configuraciÃ³n para mobile nativo o desktop
- Preparar para Azure deployment
- Configurar para Google OAuth desde el inicio
- Estructura escalable para futuras caracterÃ­sticas
- Seguir mejores prÃ¡cticas de Clean Architecture
- TypeScript estricto en frontend
- Logging y monitoring desde el inicio

ENTREGABLES:
- Proyecto completamente configurado y funcional
- Builds exitosos en backend y frontend
- Docker compose funcionando
- Git repository inicializado
- DocumentaciÃ³n completa de setup
```

## ğŸ“ Notas TÃ©cnicas
- **Epic**: Setup Inicial
- **Dependencias**: Ninguna (es el foundation)
- **EstimaciÃ³n**: L (Large - 3-5 dÃ­as)
- **Platform**: Base para Web Responsive MVP

## ğŸ§ª Definition of Done
- [x] CÃ³digo base configurado y compilando sin errores
- [x] Backend .NET 8 con Clean Architecture funcionando
- [x] Frontend React + TypeScript compilando sin errores
- [x] Docker Compose ejecutÃ¡ndose correctamente
- [x] Tests bÃ¡sicos configurados y pasando
- [x] DocumentaciÃ³n de setup completa y validada
- [x] Git repository con historia limpia
- [x] Scripts de desarrollo funcionando
- [x] Linting y formatting configurados
- [x] Variables de entorno configuradas

## ğŸ”— Links Relacionados
- **Epic**: [Setup Inicial](../README.md#epic-1-setup-inicial)
- **Siguiente**: [US-002: GitHub Repository](./US-002.md)
- **DocumentaciÃ³n**: [Technical Stack](../../technical-stack.md)

## ğŸ“‹ Tasks TÃ©cnicos
- [x] Crear estructura de carpetas del monorepo
- [x] Configurar soluciÃ³n .NET 8 con Clean Architecture
- [x] Configurar proyecto React con TypeScript
- [x] Instalar y configurar dependencias principales
- [x] Configurar Docker Compose para desarrollo
- [x] Crear documentaciÃ³n de setup
- [x] Configurar herramientas de calidad de cÃ³digo
- [x] Validar builds locales

---

ğŸ“… **Creado**: 2025-01-20  
ğŸ¯ **Sprint**: Sprint 0  
ğŸ‘¤ **Asignado**: Development Team  
ğŸ”„ **Estado**: âœ… Completed